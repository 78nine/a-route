var ARoute=function(e){"use strict";var t=d,n=function(e,t){var n=[];return l(d(e,n,t),n)},r=l,a=p,o=function(e,t){return u(p(e,t),t)},i=u,c=m,s=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function p(e,t){for(var n,r=[],a=0,o=0,i="",c=t&&t.delimiter||"/",p=t&&t.whitelist||void 0,l=!1;null!==(n=s.exec(e));){var u=n[0],g=n[1],m=n.index;if(i+=e.slice(o,m),o=m+u.length,g)i+=g[1],l=!0;else{var d="",v=n[2],x=n[3],y=n[4],E=n[5];if(!l&&i.length){var b=i.length-1,w=i[b];(!p||p.indexOf(w)>-1)&&(d=w,i=i.slice(0,b))}i&&(r.push(i),i="",l=!1);var R="+"===E||"*"===E,A="?"===E||"*"===E,k=x||y,T=d||c;r.push({name:v||a++,prefix:d,delimiter:T,optional:A,repeat:R,pattern:k?h(k):"[^"+f(T===c?T:T+c)+"]+?"})}}return(i||o<e.length)&&r.push(i+e.substr(o)),r}function l(e,t){return function(n,r){var a=e.exec(n);if(!a)return!1;for(var o=a[0],i=a.index,c={},s=r&&r.decode||decodeURIComponent,p=1;p<a.length;p++)if(void 0!==a[p]){var l=t[p-1];l.repeat?c[l.name]=a[p].split(l.delimiter).map((function(e){return s(e,l)})):c[l.name]=s(a[p],l)}return{path:o,index:i,params:c}}}function u(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",g(t)));return function(t,r){for(var a="",o=r&&r.encode||encodeURIComponent,i=!r||!1!==r.validate,c=0;c<e.length;c++){var s=e[c];if("string"!=typeof s){var p,l=t?t[s.name]:void 0;if(Array.isArray(l)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===l.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(p=o(l[u],s),i&&!n[c].test(p))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');a+=(0===u?s.prefix:s.delimiter)+p}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(p=o(String(l),s),i&&!n[c].test(p))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+p+'"');a+=s.prefix+p}}else a+=s}return a}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function h(e){return e.replace(/([=!:$/()])/g,"\\$1")}function g(e){return e&&e.sensitive?"":"i"}function m(e,t,n){for(var r=(n=n||{}).strict,a=!1!==n.start,o=!1!==n.end,i=n.delimiter||"/",c=[].concat(n.endsWith||[]).map(f).concat("$").join("|"),s=a?"^":"",p=0;p<e.length;p++){var l=e[p];if("string"==typeof l)s+=f(l);else{var u=l.repeat?"(?:"+l.pattern+")(?:"+f(l.delimiter)+"(?:"+l.pattern+"))*":l.pattern;t&&t.push(l),l.optional?l.prefix?s+="(?:"+f(l.prefix)+"("+u+"))?":s+="("+u+")?":s+=f(l.prefix)+"("+u+")"}}if(o)r||(s+="(?:"+f(i)+")?"),s+="$"===c?"$":"(?="+c+")";else{var h=e[e.length-1],m="string"==typeof h?h[h.length-1]===i:void 0===h;r||(s+="(?:"+f(i)+"(?="+c+"))?"),m||(s+="(?="+f(i)+"|"+c+")")}return new RegExp(s,g(n))}function d(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(d(e[a],t,n).source);return new RegExp("(?:"+r.join("|")+")",g(n))}(e,t,n):function(e,t,n){return m(p(e,n),t,n)}(e,t,n)}t.match=n,t.regexpToFunction=r,t.parse=a,t.compile=o,t.tokensToFunction=i,t.tokensToRegExp=c;const{create:v,freeze:x,keys:y}=Object,E=customElements.get("a-route"),b=E?E.app:x({_:x({params:v(null),paths:v(null)}),get(e){for(let{paths:t}=b._,n=[],r="*"===e?"*":R(e,n),a=t[r]||(t[r]={keys:n,re:r,cb:[]}),o=1,{length:i}=arguments;o<i;o++)a.cb.push(arguments[o]);return b},delete(e){for(let t="*"===e?"*":R(e,[]),n=b._.paths[t],r=1,{length:a}=arguments;r<a;r++){const e=arguments[r],t=n?n.cb.lastIndexOf(e):-1;-1<t&&n.cb.splice(t,1)}return b},navigate(e,t){$(e,t&&"push"!==t?"replace"===t?-1:0:1)},param(e,t){for(let{params:n}=b._,r=[].concat(e),a=0,{length:o}=r;a<o;a++)n[r[a]]=t;return b},use(e,t){"function"==typeof e&&(t=e,e="(.*)");for(let n=[].concat(e),r=0,{length:a}=n;r<a;r++)b.get(n[r],t);return b}}),w=E||class extends HTMLAnchorElement{static get app(){return b}connectedCallback(){this.addEventListener("click",this)}disconnectedCallback(){this.removeEventListener("click",this)}handleEvent(e){e.preventDefault(),this.hasAttribute("no-propagation")&&e.stopPropagation();const{pathname:t,search:n,hash:r}=new URL(this.href);$(t+n+r,this.hasAttribute("replace")?-1:1)}};function R(e,n){return"string"!=typeof e&&(e=(e=e.toString()).slice(1,e.lastIndexOf("/"))),t(e,n)}function A(e){return e in this}function k(e,t){const n=[];!function r(){const a=t.shift();a&&(n.lastIndexOf(a)<0?(n.push(a),a(e,r)):r())}()}function T(e,t){const n=v(null);for(let r=1,{length:a}=e;r<a;r++)null!=e[r]&&(n[t[r-1].name]=e[r]);return n}function $(e,t){const{params:n,paths:r}=b._;t<0?history.replaceState(location.href,document.title,e):t&&history.pushState(location.href,document.title,e);for(let t in r){if("*"===t)continue;const a=r[t],o=a.re.exec(e);if(o){const t={path:e,params:T(o,a.keys)},r=y(t.params).filter(A,n);return function e(){if(r.length){const a=r.shift();n[a](t,e,t.params[a])}else k(t,a.cb.slice(0))}()}}"*"in r&&k({path:e},r["*"].cb.slice(0))}return E||(customElements.define("a-route",w,{extends:"a"}),addEventListener("popstate",(function(){const{pathname:e,search:t,hash:n}=location;$(e+t+n,0)}))),e.ARoute=w,e.app=b,e}({});
