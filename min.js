var ARoute=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)})(e)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var f=R,p=function(e,t){var n=[];return m(R(e,n,t),n)},l=m,s=d,h=function(e,t){return b(d(e,t),t)},v=b,y=O,g=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(e,t){for(var n,r=[],o=0,i=0,a="",u=t&&t.delimiter||"/",c=t&&t.whitelist||void 0,f=!1;null!==(n=g.exec(e));){var p=n[0],l=n[1],s=n.index;if(a+=e.slice(i,s),i=s+p.length,l)a+=l[1],f=!0;else{var h="",v=n[2],y=n[3],d=n[4],m=n[5];if(!f&&a.length){var b=a.length-1,E=a[b];(!c||c.indexOf(E)>-1)&&(h=E,a=a.slice(0,b))}a&&(r.push(a),a="",f=!1);var O="+"===m||"*"===m,R="?"===m||"*"===m,j=y||d,k=h||u;r.push({name:v||o++,prefix:h,delimiter:k,optional:R,repeat:O,pattern:j?w(j):"[^"+x(k===u?k:k+u)+"]+?"})}}return(a||i<e.length)&&r.push(a+e.substr(i)),r}function m(e,t){return function(n,r){var o=e.exec(n);if(!o)return!1;for(var i=o[0],a=o.index,u={},c=r&&r.decode||decodeURIComponent,f=1;f<o.length;f++)if(void 0!==o[f]){var p=t[f-1];p.repeat?u[p.name]=o[f].split(p.delimiter).map((function(e){return c(e,p)})):u[p.name]=c(o[f],p)}return{path:i,index:a,params:u}}}function b(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",E(t)));return function(t,r){for(var o="",i=r&&r.encode||encodeURIComponent,a=!r||!1!==r.validate,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var f,p=t?t[c.name]:void 0;if(Array.isArray(p)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===p.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<p.length;l++){if(f=i(p[l],c),a&&!n[u].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');o+=(0===l?c.prefix:c.delimiter)+f}}else if("string"!=typeof p&&"number"!=typeof p&&"boolean"!=typeof p){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"))}else{if(f=i(String(p),c),a&&!n[u].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+f+'"');o+=c.prefix+f}}else o+=c}return o}}function x(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function w(e){return e.replace(/([=!:$/()])/g,"\\$1")}function E(e){return e&&e.sensitive?"":"i"}function O(e,t,n){for(var r=(n=n||{}).strict,o=!1!==n.start,i=!1!==n.end,a=n.delimiter||"/",u=[].concat(n.endsWith||[]).map(x).concat("$").join("|"),c=o?"^":"",f=0;f<e.length;f++){var p=e[f];if("string"==typeof p)c+=x(p);else{var l=p.repeat?"(?:"+p.pattern+")(?:"+x(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.prefix?c+="(?:"+x(p.prefix)+"("+l+"))?":c+="("+l+")?":c+=x(p.prefix)+"("+l+")"}}if(i)r||(c+="(?:"+x(a)+")?"),c+="$"===u?"$":"(?="+u+")";else{var s=e[e.length-1],h="string"==typeof s?s[s.length-1]===a:void 0===s;r||(c+="(?:"+x(a)+"(?="+u+"))?"),h||(c+="(?="+x(a)+"|"+u+")")}return new RegExp(c,E(n))}function R(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(R(e[o],t,n).source);return new RegExp("(?:"+r.join("|")+")",E(n))}(e,t,n):function(e,t,n){return O(d(e,n),t,n)}(e,t,n)}f.match=p,f.regexpToFunction=l,f.parse=s,f.compile=h,f.tokensToFunction=v,f.tokensToRegExp=y;var j=Object.create,k=Object.freeze,_=Object.keys,T=customElements.get("a-route"),A=T?T.app:k({_:k({params:j(null),paths:j(null)}),get:function(e){for(var t=A._.paths,n=[],r="*"===e,o=r?"*":$(e,n),i=t[o]||(t[o]={keys:n,re:o,cb:[]}),a=1,u=arguments.length;a<u;a++)i.cb.push(arguments[a]);return A},delete:function(e){for(var t="*"===e,n=t?"*":$(e,[]),r=A._.paths[n],o=1,i=arguments.length;o<i;o++){var a=arguments[o],u=r?r.cb.lastIndexOf(a):-1;-1<u&&r.cb.splice(u,1)}return A},navigate:function(e,t){L(e,t&&"push"!==t?"replace"===t?-1:0:1)},param:function(e,t){for(var n=A._.params,r=[].concat(e),o=0,i=r.length;o<i;o++)n[r[o]]=t;return A},use:function(e,t){"function"==typeof e&&(t=e,e="(.*)");for(var n=[].concat(e),r=0,o=n.length;r<o;r++)A.get(n[r],t);return A}}),S=T||function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var a,u,f,p,l,s=(a=h,u=i(),function(){var e,t=r(a);if(u){var n=r(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(){return t(this,h),s.apply(this,arguments)}return f=h,l=[{key:"app",get:function(){return A}}],(p=[{key:"connectedCallback",value:function(){this.addEventListener("click",this)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this)}},{key:"handleEvent",value:function(e){if(n=(t=e).metaKey,r=t.altKey,o=t.ctrlKey,i=t.shiftKey,!(n||r||o||i)){var t,n,r,o,i;e.preventDefault(),this.hasAttribute("no-propagation")&&e.stopPropagation();var a=new URL(this.href);L(a.pathname+a.search+a.hash,this.hasAttribute("replace")?-1:1)}}}])&&n(f.prototype,p),l&&n(f,l),h}(u(HTMLAnchorElement));function $(e,t){return"string"!=typeof e&&(e=(e=e.toString()).slice(1,e.lastIndexOf("/"))),f(e,t)}function P(e){return e in this}function C(e,t){var n=[];!function r(){var o=t.shift();o&&(n.lastIndexOf(o)<0?(n.push(o),o(e,r)):r())}()}function I(e,t){for(var n=j(null),r=1,o=e.length;r<o;r++)null!=e[r]&&(n[t[r-1].name]=e[r]);return n}function L(e,t){var n=A._,r=n.params,o=n.paths;t<0?history.replaceState(location.href,document.title,e):t&&history.pushState(location.href,document.title,e);var i=function(t){if("*"===t)return"continue";var n=o[t],i=n.re.exec(e);if(i){var a={path:e,params:I(i,n.keys)},u=_(a.params).filter(P,r);return{v:function e(){if(u.length){var t=u.shift();r[t](a,e,a.params[t])}else C(a,n.cb.slice(0))}()}}};for(var a in o){var u=i(a);if("continue"!==u&&"object"==typeof u)return u.v}"*"in o&&C({path:e},o["*"].cb.slice(0))}return T||(customElements.define("a-route",S,{extends:"a"}),addEventListener("popstate",(function(){var e=location;L(e.pathname+e.search+e.hash,0)}))),e.ARoute=S,e.app=A,e}({});