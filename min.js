var ARoute=function(e){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function t(e){var n="function"==typeof Map?new Map:void 0;return(t=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)})(e)}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){return h(s(e,t),t)}var c=g,f=s,p=h,l=y,j="/",k=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function s(e,t){for(var n,r,o=[],i=0,a=0,u="",c=t&&t.delimiter||j,f=t&&t.whitelist||void 0,p=!1;null!==(n=k.exec(e));){var l=n[0],s=n[1],h=n.index;if(u+=e.slice(a,h),a=h+l.length,s)u+=s[1],p=!0;else{var v="",y=n[2],g=n[3],d=n[4],m=n[5];if(!p&&u.length){var b=u.length-1,w=u[b];(!f||-1<f.indexOf(w))&&(v=w,u=u.slice(0,b))}u&&(o.push(u),u="",p=!1);var x="+"===m||"*"===m,E="?"===m||"*"===m,O=g||d,R=v||c;o.push({name:y||i++,prefix:v,delimiter:R,optional:E,repeat:x,pattern:O?(r=O,r.replace(/([=!:$/()])/g,"\\$1")):"[^"+_(R===c?R:R+c)+"]+?"})}}return(u||a<e.length)&&o.push(u+e.substr(a)),o}function h(p,e){for(var l=new Array(p.length),t=0;t<p.length;t++)"object"==typeof p[t]&&(l[t]=new RegExp("^(?:"+p[t].pattern+")$",v(e)));return function(e,t){for(var n="",r=t&&t.encode||encodeURIComponent,o=!t||!1!==t.validate,i=0;i<p.length;i++){var a=p[i];if("string"!=typeof a){var u,c=e?e[a.name]:void 0;if(Array.isArray(c)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but got array');if(0===c.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var f=0;f<c.length;f++){if(u=r(c[f],a),o&&!l[i].test(u))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'"');n+=(0===f?a.prefix:a.delimiter)+u}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!a.optional)throw new TypeError('Expected "'+a.name+'" to be '+(a.repeat?"an array":"a string"))}else{if(u=r(String(c),a),o&&!l[i].test(u))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+u+'"');n+=a.prefix+u}}else n+=a}return n}}function _(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function v(e){return e&&e.sensitive?"":"i"}function y(e,t,n){for(var r=(n=n||{}).strict,o=!1!==n.start,i=!1!==n.end,a=n.delimiter||j,u=[].concat(n.endsWith||[]).map(_).concat("$").join("|"),c=o?"^":"",f=0;f<e.length;f++){var p=e[f];if("string"==typeof p)c+=_(p);else{var l=p.repeat?"(?:"+p.pattern+")(?:"+_(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.prefix?c+="(?:"+_(p.prefix)+"("+l+"))?":c+="("+l+")?":c+=_(p.prefix)+"("+l+")"}}if(i)r||(c+="(?:"+_(a)+")?"),c+="$"===u?"$":"(?="+u+")";else{var s=e[e.length-1],h="string"==typeof s?s[s.length-1]===a:void 0===s;r||(c+="(?:"+_(a)+"(?="+u+"))?"),h||(c+="(?="+_(a)+"|"+u+")")}return new RegExp(c,v(n))}function g(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],t,n).source);return new RegExp("(?:"+r.join("|")+")",v(n))}(e,t,n):function(e,t,n){return y(s(e,n),t,n)}(e,t,n)}c.parse=f,c.compile=u,c.tokensToFunction=p,c.tokensToRegExp=l;var d=Object.create,m=Object.freeze,b=Object.keys,w=customElements.get("a-route"),x=w?w.app:m({_:m({params:d(null),paths:d(null)}),get:function(e){for(var t=x._.paths,n=[],r="*"===e?"*":O(e,n),o=t[r]||(t[r]={keys:n,re:r,cb:[]}),i=1,a=arguments.length;i<a;i++)o.cb.push(arguments[i]);return x},delete:function(e){for(var t="*"===e?"*":O(e,[]),n=x._.paths[t],r=1,o=arguments.length;r<o;r++){var i=arguments[r],a=n?n.cb.lastIndexOf(i):-1;-1<a&&n.cb.splice(a,1)}return x},navigate:function(i){function e(e){if("*"===e)return"continue";var n=u[e],t=n.re.exec(i);if(t){var r={path:i,params:function(e,t){for(var n=d(null),r=1,o=e.length;r<o;r++)null!=e[r]&&(n[t[r-1].name]=e[r]);return n}(t,n.keys)},o=b(r.params).filter(R,a);return{v:function e(){if(o.length){var t=o.shift();a[t](r,e,r.params[t])}else T(r,n.cb.slice(0))}()}}}var t=x._,a=t.params,u=t.paths;for(var n in u){var r=e(n);switch(r){case"continue":continue;default:if("object"==typeof r)return r.v}}"*"in u&&T({path:i},u["*"].cb.slice(0))},param:function(e,t){for(var n=x._.params,r=[].concat(e),o=0,i=r.length;o<i;o++)n[r[o]]=t;return x},use:function(e,t){"function"==typeof e&&(t=e,e="(.*)");for(var n=[].concat(e),r=0,o=n.length;r<o;r++)x.get(n[r],t);return x}}),E=w||function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,o(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(e,t(HTMLAnchorElement)),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"connectedCallback",value:function(){this.addEventListener("click",this)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this)}},{key:"handleEvent",value:function(e){e.preventDefault(),this.hasAttribute("no-propagation")&&e.stopPropagation();var t=new URL(this.href),n=t.pathname+t.search+t.hash;this.hasAttribute("replace")?history.replaceState(location.href,document.title,n):history.pushState(location.href,document.title,n),x.navigate(n)}}],[{key:"app",get:function(){return x}}]),e}();function O(e,t){return"string"!=typeof e&&(e=(e=e.toString()).slice(1,e.lastIndexOf("/"))),c(e,t)}function R(e){return e in this}function T(n,r){var o=[];!function e(){var t=r.shift();t&&(o.lastIndexOf(t)<0?(o.push(t),t(n,e)):e())}()}return w||(customElements.define("a-route",E,{extends:"a"}),addEventListener("popstate",function(){var e=new URL(location.href),t=e.pathname,n=e.search,r=e.hash;x.navigate(t+n+r)})),e.ARoute=E,e.app=x,e}({});